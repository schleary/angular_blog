<div ng-controller="homeController">
  <hr>
  <h2>Search</h2>
  Search: <input type="text" ng-model="search"/>
  Search by title: <input type="text" ng-model="search.title">
  <br><br>
  Tags: <span ng-repeat="tag in tags">
      <input type="checkbox" value="tag.id" ng-click="addTag(tag.id)">{{tag.name}} </input>
    </span><br><br><br><hr>

  <h2>Add New Post</h2>
  <span class = "right">
    <h5>Title: </h5>{{newPost.title}}
    <br>
    <h5>Content: </h5>{{newPost.content}}
  </span>

  <div class="form">
    <span class = "left">
      Title: <input type="text" ng-model="newPost.title"/><br><br>
      Content: <input type="text" ng-model="newPost.content"/>
      <br>
      <br>
      Tags: <span ng-repeat="tag in tags">
        <input type="checkbox" value="tag.id" ng-click="toggleId(tag.id)">{{tag.name}}</input>
      <br>
      <br>
    </span>
    <button ng-click="submitNewPost()">
      Create a new post
    </button>
</div>
  <div class = "rest">
    <br>
    <hr>
    <span ng-repeat="post in posts | filter:search:strict">

      <a ui-sref="show({id: post.id})">
        <h3>{{post.title}}</h3><br>
      </a>

      <!-- <button ng-click="editPost()">
        Edit post
      </button><br> -->
      <a ui-sref=".edit">EDIT</a>

      <span ng-if="post.tag_ids.length > 0" </span>
        Tags:
      </span>

      <small ng-repeat="tag_id in post.tag_ids">
        {{getTagName(tag_id)}}
      </small>
      <br>


      <span>{{post.date | date:'EEEE'}}</span><br>
      <p>{{post.content}}</p>
      <hr>

    </span>
  </div>
</div>
